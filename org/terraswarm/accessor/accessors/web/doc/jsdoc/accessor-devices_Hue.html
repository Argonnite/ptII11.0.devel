<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Accessor: devices/Hue</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Accessor: devices/Hue</h1>

    




<section>

<header>
    
        <h2>
        devices/Hue
        </h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description"><p>This accessor controls a Philips Hue lightbulb.
 <p>
 It sets the parameters of the specified
 light according to the input values.
 </p><p>
 Logging on: This script attempts to access the bridge as a user with
 name given by <i>userName</i>, which defaults to &quot;ptolemyuser&quot;.
 If there is no such user on the bridge, the script registers such a user and requests
 (via an alert dialog) that the
 link button on the bridge be pushed to authorize registration of this user.
 The user is given 20s to do this before an exception is thrown
 </p><p>
 Verifying the light: The final initialization step is to get a list of accessible lights.
 If the input light is not accessible, this accessor warns but does not error.
 Sometimes Hue lights are transient (get unplugged, become temporarily disconnected)
 and may be valid in the future. Rather than terminating the model, we hope
 that the lights come back.
 </p><p>
 Discovery: Finding the IP address of the Hue Bridge is not necessarily easy.
 The bridge acquires its address via DHCP, so the address will typically change
 each time the bridge is rebooted. Moreover, the address will likely not be
 accessible except on the local network.  The bridge responds to UPnP packets
 (universal plug-and-play), so it is possible to use software such as
 <a href="http://4thline.org/projects/cling/">Cling</a> to discover the bridge.
 Ideally, UPnP discover would be provided via an accessor. In this case, a
 swarmlet could be created that runs periodically on a local network and publishes
 the URL of any discovered bridges to a key-value store. Then the KeyValueStore
 accessor could be used to provide the <i>bridgeIPAdress</i> input to this accessor.
 </p></p></div>
        

        


<dl class="details">

    
    <dt class="tag-version">Version:</dt>
    <dd class="tag-version"><ul class="dummy"><li>$$Id: Hue.js 322 2015-09-28 18:11:06Z bradjc@umich.edu $$</li></ul></dd>
    

    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Edward A. Lee, Marcus Pan</li>
        </ul>
    </dd>
    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="devices_Hue.js.html">devices/Hue.js</a>, <a href="devices_Hue.js.html#line22">line 22</a>
    </li></ul></dd>
    

    

    

    
</dl>


    <h5>Inputs:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>bridgeIPAddress</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The bridge IP address (and port, if needed).</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>lightID</code></td>
            

            <td class="type">
            
                
<span class="param-type">int</span>


            
            </td>

            

            

            <td class="description last">The light identifier (an integer beginning with 1).</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>brightness</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">The brightness (an integer between 0 and 255).</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>hue</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">The hue (an integer between 0 and 62580).</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>saturation</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">The saturation (an integer between 0 and 255).</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>transitionTime</code></td>
            

            <td class="type">
            
                
<span class="param-type">int</span>


            
            </td>

            

            

            <td class="description last">The transition time, in multiples of 100ms.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>trigger</code></td>
            

            <td class="type">
            
                
<span class="param-type">int</span>


            
            </td>

            

            

            <td class="description last">Triggers a PUT request with all the light settings. Can be any type.</td>
        </tr>

    
    </tbody>
</table>

                                              


    <h5>Outputs:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>on</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last">Whether the light is on (true) or off (false).</td>
        </tr>

    
    </tbody>
</table>

                                              


    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>userName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The user name for logging on to the Hue Bridge.
  This must be at least 11 characters, or the Hue regards it as invalid.</td>
        </tr>

    
    </tbody>
</table>




        
    
    </div>

    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id=".initialize"><span class="type-signature">(static) </span>initialize<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Initialize connection.
 Register user if not registered
 Input handlers are not added here in case we need to wait for user to regiter</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="devices_Hue.js.html">devices/Hue.js</a>, <a href="devices_Hue.js.html#line124">line 124</a>
    </li></ul></dd>
    

    

    

    
</dl>






















        
            

    

    <h4 class="name" id=".setup"><span class="type-signature">(static) </span>setup<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Define inputs and outputs.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="devices_Hue.js.html">devices/Hue.js</a>, <a href="devices_Hue.js.html#line86">line 86</a>
    </li></ul></dd>
    

    

    

    
</dl>






















        
            

    

    <h4 class="name" id=".wrapup"><span class="type-signature">(static) </span>wrapup<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Turn off changed lights on wrapup.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="devices_Hue.js.html">devices/Hue.js</a>, <a href="devices_Hue.js.html#line290">line 290</a>
    </li></ul></dd>
    

    

    

    
</dl>






















        
            

    

    <h4 class="name" id="~getReachableLights"><span class="type-signature">(inner) </span>getReachableLights<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>This function is only called after user has been registered.
Get reachable lights.
Add input handlers</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="devices_Hue.js.html">devices/Hue.js</a>, <a href="devices_Hue.js.html#line231">line 231</a>
    </li></ul></dd>
    

    

    

    
</dl>






















        
            

    

    <h4 class="name" id="~inputHandler"><span class="type-signature">(inner) </span>inputHandler<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Get light settings from inputs and PUT</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="devices_Hue.js.html">devices/Hue.js</a>, <a href="devices_Hue.js.html#line256">line 256</a>
    </li></ul></dd>
    

    

    

    
</dl>






















        
            

    

    <h4 class="name" id="~isNonEmptyArray"><span class="type-signature">(inner) </span>isNonEmptyArray<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>utility function to check that an object is a nonempty array</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="devices_Hue.js.html">devices/Hue.js</a>, <a href="devices_Hue.js.html#line316">line 316</a>
    </li></ul></dd>
    

    

    

    
</dl>






















        
            

    

    <h4 class="name" id="~limit"><span class="type-signature">(inner) </span>limit<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Utility function to limit the range of a number
and to force it to be an integer. If the value argument
is a string, then it will be converted to a Number.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="devices_Hue.js.html">devices/Hue.js</a>, <a href="devices_Hue.js.html#line323">line 323</a>
    </li></ul></dd>
    

    

    

    
</dl>






















        
            

    

    <h4 class="name" id="~registerUser"><span class="type-signature">(inner) </span>registerUser<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Register a new user.
This function repeats at registerInterval until registration is successful, or until registerTimeout.
It does so because it needs to wait until the user clicks
the button on the Hue bridge.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="devices_Hue.js.html">devices/Hue.js</a>, <a href="devices_Hue.js.html#line193">line 193</a>
    </li></ul></dd>
    

    

    

    
</dl>






















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Accessors</h3><ul><li><a href="accessor-audio_AudioCapture.html">audio/AudioCapture</a></li><li><a href="accessor-audio_AudioPlayer.html">audio/AudioPlayer</a></li><li><a href="accessor-audio_SwarmAcousticServiceGetdat.html">audio/SwarmAcousticServiceGetdat</a></li><li><a href="accessor-audio_SwarmAcousticServiceInfer.html">audio/SwarmAcousticServiceInfer</a></li><li><a href="accessor-audio_SwarmAcousticServiceQuery.html">audio/SwarmAcousticServiceQuery</a></li><li><a href="accessor-cameras_Camera.html">cameras/Camera</a></li><li><a href="accessor-cameras_Foscam.html">cameras/Foscam</a></li><li><a href="accessor-contextAware.html">contextAware</a></li><li><a href="accessor-contextAwareTest.html">contextAwareTest</a></li><li><a href="accessor-devices_Hue.html">devices/Hue</a></li><li><a href="accessor-GSNInterfaceTest.html">GSNInterfaceTest</a></li><li><a href="accessor-image_AprilTags.html">image/AprilTags</a></li><li><a href="accessor-image_ImageAnnotate.html">image/ImageAnnotate</a></li><li><a href="accessor-image_ImageFilter.html">image/ImageFilter</a></li><li><a href="accessor-image_MotionDetector.html">image/MotionDetector</a></li><li><a href="accessor-localization_Location.html">localization/Location</a></li><li><a href="accessor-net_Discovery.html">net/Discovery</a></li><li><a href="accessor-net_IPAddress.html">net/IPAddress</a></li><li><a href="accessor-net_REST.html">net/REST</a></li><li><a href="accessor-net_UDPSocket.html">net/UDPSocket</a></li><li><a href="accessor-net_VertxPublish.html">net/VertxPublish</a></li><li><a href="accessor-net_VertxSubscribe.html">net/VertxSubscribe</a></li><li><a href="accessor-net_WebSocketClient.html">net/WebSocketClient</a></li><li><a href="accessor-net_WebSocketServer.html">net/WebSocketServer</a></li><li><a href="accessor-robotics_LocationRosPublisher.html">robotics/LocationRosPublisher</a></li><li><a href="accessor-robotics_RangeSensor.html">robotics/RangeSensor</a></li><li><a href="accessor-robotics_RosPublisher.html">robotics/RosPublisher</a></li><li><a href="accessor-robotics_RosSubscriber.html">robotics/RosSubscriber</a></li><li><a href="accessor-services_FFT.html">services/FFT</a></li><li><a href="accessor-services_GeoCoder.html">services/GeoCoder</a></li><li><a href="accessor-services_StockTick.html">services/StockTick</a></li><li><a href="accessor-services_Weather.html">services/Weather</a></li><li><a href="accessor-util_Exec.html">util/Exec</a></li></ul><h3>Global</h3><ul><li><a href="global.html#error">error</a></li><li><a href="global.html#fire">fire</a></li><li><a href="global.html#get">get</a></li><li><a href="global.html#httpRequest">httpRequest</a></li><li><a href="global.html#initialize">initialize</a></li><li><a href="global.html#print">print</a></li><li><a href="global.html#readURL">readURL</a></li><li><a href="global.html#send">send</a></li><li><a href="global.html#setup">setup</a></li><li><a href="global.html#wrapup">wrapup</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0-dev</a> on Wed Oct 21 2015 00:46:29 GMT-0700 (PDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>