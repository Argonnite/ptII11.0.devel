<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Accessor: net/REST</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Accessor: net/REST</h1>

    




<section>

<header>
    
        <h2>
        net/REST
        </h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description"><p>Accessor for RESTful interfaces.
 Upon receipt of a trigger input, this accessor will issue an HTTP request
 specified by the inputs.
 The <i>options</i> input can be a string URL (with surrounding quotation marks)
 or an object with the following fields:
 <ul>
 <li> headers: An object containing request headers. By default this
      is an empty object. Items may have a value that is an array of values,
      for headers with more than one value.
 <li> keepAlive: A boolean that specified whether to keep sockets around
      in a pool to be used by other requests in the future. This defaults to false.
 <li> method: A string specifying the HTTP request method.
      This defaults to 'GET', but can also be 'PUT', 'POST', 'DELETE', etc.
 <li> url: A string that can be parsed as a URL, or an object containing
      the following fields:
      <ul>
      <li> host: A string giving the domain name or IP address of
           the server to issue the request to. This defaults to 'localhost'.
      <li> protocol: The protocol. This is a string that defaults to 'http'.
      <li> port: Port of remote server. This defaults to 80. 
      </ul>
 </ul></p>
<p> For example, the <i>options</i> parameter could be set to
 <code>
 {&quot;headers&quot;:{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;}, &quot;method&quot;:&quot;POST&quot;, &quot;url&quot;:&quot;...&quot;}
 </code></p>
<p> In addition, there is a <i>command</i> input that is a string that is appended
 as a path to the URL constructed from the <i>options</i> input. This defaults
 to the empty string.</p>
<p> The <i>arguments</i> input an object with fields that are converted to a query
 string to append to the url, for example '?arg=value'.</p>
<p> A <i>trigger</i> input triggers invocation of the current command. Any value provided
 on the trigger input is ignored.</p>
<p> The output response will be a string if the MIME type of the accessed page
 begins with &quot;text&quot;. If the MIME type begins with anything else, then the
 binary data will be produced. It is up to the host implementation to ensure
 that the data is given in some form that is usable by downstream accessors
 or actors.</p>
<p> The parameter 'timeout' specifies how long this accessor will wait for response.
 If it does not receive the response by the specified time, then it will issue
 a null response output and an error event (calling the error() function of the host).</p>
<p> If the parameter 'outputCompleteResponseOnly' is true (the default), then this
 accessor will produce a 'response' output only upon receiving a complete response.
 If it is false, then multiple outputs may result from a single input or trigger.</p></div>
        

        


<dl class="details">

    
    <dt class="tag-version">Version:</dt>
    <dd class="tag-version"><ul class="dummy"><li>$$Id: REST.js 327 2015-10-02 01:29:01Z eal $$</li></ul></dd>
    

    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Edward A. Lee (eal@eecs.berkeley.edu)</li>
        </ul>
    </dd>
    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="net_REST.js.html">net/REST.js</a>, <a href="net_REST.js.html#line23">line 23</a>
    </li></ul></dd>
    

    

    

    
</dl>


    <h5>Inputs:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last">The url for the command or an object specifying options.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>command</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The command.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>arguments</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last">Arguments to the command.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>body</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">The request body, if any.  This supports at least strings and image data.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>trigger</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">An input to trigger the command.</td>
        </tr>

    
    </tbody>
</table>

                                              


    <h5>Outputs:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>response</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The server's response.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>status</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The status code and message of the response.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>headers</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">The headers sent with the response.</td>
        </tr>

    
    </tbody>
</table>

                                              


    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>timeout</code></td>
            

            <td class="type">
            
                
<span class="param-type">int</span>


            
            </td>

            

            

            <td class="description last">The amount of time (in milliseconds) to wait for a response
  before triggering a null response and an error. This defaults to 5000.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>outputCompleteResponseOnly</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last">If true (the default), the produce a
  'response' output only upon receiving the entire response.</td>
        </tr>

    
    </tbody>
</table>




        
    
    </div>

    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id=".encodePath"><span class="type-signature">(static) </span>encodePath<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Build the path from the command and arguments.
 This default implementation returns 'command?args', where
 args is an encoding of the arguments input for embedding in a URL.
 For example, if the arguments input is the object
    <code>{ foo: 'bar', baz: ['qux', 'quux'], corge: '' }</code>
 then the returned string will be
    <code>command?foo=bar&amp;baz=qux&amp;baz=quux&amp;corge=</code>
 Derived accessors may override this function to customize
 the interaction. The returned string should not include a leading '/'.
 That will be added automatically.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="net_REST.js.html">net/REST.js</a>, <a href="net_REST.js.html#line120">line 120</a>
    </li></ul></dd>
    

    

    

    
</dl>






















        
            

    

    <h4 class="name" id=".filterResponse"><span class="type-signature">(static) </span>filterResponse<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Filter the response. This base class just returns the argument
 unmodified, but derived classes can override this to extract
 a portion of the response, for example.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="net_REST.js.html">net/REST.js</a>, <a href="net_REST.js.html#line134">line 134</a>
    </li></ul></dd>
    

    

    

    
</dl>






















        
            

    

    <h4 class="name" id=".handleResponse"><span class="type-signature">(static) </span>handleResponse<span class="signature">(message)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Handle the response from the RESTful service. The argument
 is expected to be be an instance of IncomingMessage, defined
 in the httpClient module. This base class extracts the body
 field of the message, if there is one, and produces that on
 the 'response' output, and otherwise just produces the message
 on the output. If the argument is null or undefined, then do
 nothing.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>message</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last"><p>An incoming message.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="net_REST.js.html">net/REST.js</a>, <a href="net_REST.js.html#line202">line 202</a>
    </li></ul></dd>
    

    

    

    
</dl>






















        
            

    

    <h4 class="name" id=".initialize"><span class="type-signature">(static) </span>initialize<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Register the input handler.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="net_REST.js.html">net/REST.js</a>, <a href="net_REST.js.html#line222">line 222</a>
    </li></ul></dd>
    

    

    

    
</dl>






















        
            

    

    <h4 class="name" id=".issueCommand"><span class="type-signature">(static) </span>issueCommand<span class="signature">(callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Issue the command based on the current value of the inputs.
 This constructs a path using encodePath and combines it with the
 url input to construct the full command.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last"><p>The callback function that will be called with the
  response as an argument (an instance of IncomingMessage, defined in
  the httpClient module).</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="net_REST.js.html">net/REST.js</a>, <a href="net_REST.js.html#line149">line 149</a>
    </li></ul></dd>
    

    

    

    
</dl>






















        
            

    

    <h4 class="name" id=".setup"><span class="type-signature">(static) </span>setup<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Define inputs and outputs.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="net_REST.js.html">net/REST.js</a>, <a href="net_REST.js.html#line96">line 96</a>
    </li></ul></dd>
    

    

    

    
</dl>






















        
            

    

    <h4 class="name" id=".wrapup"><span class="type-signature">(static) </span>wrapup<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Upon wrapup, stop handling new inputs.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="net_REST.js.html">net/REST.js</a>, <a href="net_REST.js.html#line228">line 228</a>
    </li></ul></dd>
    

    

    

    
</dl>






















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Accessors</h3><ul><li><a href="accessor-audio_AudioCapture.html">audio/AudioCapture</a></li><li><a href="accessor-audio_AudioPlayer.html">audio/AudioPlayer</a></li><li><a href="accessor-audio_SwarmAcousticServiceGetdat.html">audio/SwarmAcousticServiceGetdat</a></li><li><a href="accessor-audio_SwarmAcousticServiceInfer.html">audio/SwarmAcousticServiceInfer</a></li><li><a href="accessor-audio_SwarmAcousticServiceQuery.html">audio/SwarmAcousticServiceQuery</a></li><li><a href="accessor-cameras_Camera.html">cameras/Camera</a></li><li><a href="accessor-cameras_Foscam.html">cameras/Foscam</a></li><li><a href="accessor-contextAware.html">contextAware</a></li><li><a href="accessor-contextAwareTest.html">contextAwareTest</a></li><li><a href="accessor-devices_Hue.html">devices/Hue</a></li><li><a href="accessor-GSNInterfaceTest.html">GSNInterfaceTest</a></li><li><a href="accessor-image_AprilTags.html">image/AprilTags</a></li><li><a href="accessor-image_ImageAnnotate.html">image/ImageAnnotate</a></li><li><a href="accessor-image_ImageFilter.html">image/ImageFilter</a></li><li><a href="accessor-image_MotionDetector.html">image/MotionDetector</a></li><li><a href="accessor-localization_Location.html">localization/Location</a></li><li><a href="accessor-net_Discovery.html">net/Discovery</a></li><li><a href="accessor-net_IPAddress.html">net/IPAddress</a></li><li><a href="accessor-net_REST.html">net/REST</a></li><li><a href="accessor-net_UDPSocket.html">net/UDPSocket</a></li><li><a href="accessor-net_VertxPublish.html">net/VertxPublish</a></li><li><a href="accessor-net_VertxSubscribe.html">net/VertxSubscribe</a></li><li><a href="accessor-net_WebSocketClient.html">net/WebSocketClient</a></li><li><a href="accessor-net_WebSocketServer.html">net/WebSocketServer</a></li><li><a href="accessor-robotics_LocationRosPublisher.html">robotics/LocationRosPublisher</a></li><li><a href="accessor-robotics_RangeSensor.html">robotics/RangeSensor</a></li><li><a href="accessor-robotics_RosPublisher.html">robotics/RosPublisher</a></li><li><a href="accessor-robotics_RosSubscriber.html">robotics/RosSubscriber</a></li><li><a href="accessor-services_FFT.html">services/FFT</a></li><li><a href="accessor-services_GeoCoder.html">services/GeoCoder</a></li><li><a href="accessor-services_StockTick.html">services/StockTick</a></li><li><a href="accessor-services_Weather.html">services/Weather</a></li><li><a href="accessor-util_Exec.html">util/Exec</a></li></ul><h3>Global</h3><ul><li><a href="global.html#error">error</a></li><li><a href="global.html#fire">fire</a></li><li><a href="global.html#get">get</a></li><li><a href="global.html#httpRequest">httpRequest</a></li><li><a href="global.html#initialize">initialize</a></li><li><a href="global.html#print">print</a></li><li><a href="global.html#readURL">readURL</a></li><li><a href="global.html#send">send</a></li><li><a href="global.html#setup">setup</a></li><li><a href="global.html#wrapup">wrapup</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0-dev</a> on Wed Oct 21 2015 00:46:30 GMT-0700 (PDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>